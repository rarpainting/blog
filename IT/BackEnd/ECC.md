# ECC 椭圆曲线加密算法

## 平行线相交

假设: 直线上出现 点 p , 使得所有直线都相交, 且只有一个交点, 称为 无穷远点

无穷远点性质:

1. 直线上无穷远点只能有一个
2. 平面上一组相互平行的直线有公共的无穷远点
3. 平面上任何相交的两直线 L1 L2 有不同的无穷远点(??)
4. 平面上全体无穷远点构成一条 **无穷远直线**
5. 平面上全体无穷远点于全体平常点构成射影平面

## 射影平面

**定义:**

对普通平面上 点(x, y), 令 x=X/Z, y=Y/Z (Z!=0)
则定义该点在射影平面的投影为 (X:Y:Z)

## 椭圆曲线

一条椭圆曲线是**在射影平面上满足 威尔斯特拉斯方程(Weierstrass) 所有点的集合**

$${Y^2Z + a_1XYZ + a_3YZ^2 = X^3 + a_2X^2Z + a_4XZ^2 + a_6Z^3}$$

特性:

1. 椭圆曲线方程是一个齐次方程
2. 曲线上每个点都必须是非奇异的(光滑的), 偏导数 FX(X,Y,Z) FY(X,Y,Z) FZ(X,T,Z) 不同时为 0
3. 圆曲线的形状, 并不是椭圆的. 只是因为椭圆曲线的描述方程, 类似于计算一个椭圆周长的方程

椭圆曲线普通方程:

$${y^2 + a_1xy + a_3y = x^3 + a_2x^2 + a_4x + a_6}$$

此时无穷远点为 (0, Y, 0)

则有:

$${F_x(x, y) = a_1y - 3x^2 - 2a_2x - a_4}$$
$${F_y(x, y) = 2y + a_1x + a_3}$$
$${k = -(F_x(x, y)/F_y(x. y)) = (3x^2 + 2a_2x + a_4 - a_1y)/(2y + a_1x + a_3)}$$

定义 椭圆曲线 的阿贝尔群

- 已知集合和运算(G, *), 如果该集合为群, 则
  - 封闭性: ALL a, b OF G, a*b OF G
  - 结合性(交换律): ALL a, b, c OF G, (a*b)*c = a*(b*c)
  - 单位元:
  - 逆元

## 有限域椭圆曲线 [todo]

## ECC vs. RSA

优点:
- 安全性能更高, 160 位 ECC 有与 1024 位 RSA/DSA 相等的安全强度
- 在处理私钥的速度上, ECC 远比 RSA/DSA 快
- 带宽要求低, 存储空间小 -- ECC 的秘钥尺寸和系统参数与 RSA/DSA 相比小得多

缺点:
- 设计困难, 实现复杂

# 附

## openssl

- openssl 旧版本版本(<=openssl 1.0.2i / <=libressl2.2.2)用 `md5` 做摘要, openssl 1.1.0 以上用 `sha256`

```shell
`-pass`

`env:somevar` 从环境变量中获取密码
`file:somepathname` 从位置的文件的第一行获取密码 pathname
`fd:number` 从文件描述符号中获取密码;
`stdin` 从标准输入读取
```
